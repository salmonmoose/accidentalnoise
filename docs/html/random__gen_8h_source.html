<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>accidentalnoise: include/random_gen.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1-20091027 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<h1>include/random_gen.h</h1><a href="random__gen_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 Copyright (c) 2008 Joshua Tippetts
<a name="l00003"></a>00003 
<a name="l00004"></a>00004 Permission is hereby granted, free of charge, to any person obtaining a copy
<a name="l00005"></a>00005 of this software and associated documentation files (the &quot;Software&quot;), to deal
<a name="l00006"></a>00006 in the Software without restriction, including without limitation the rights
<a name="l00007"></a>00007 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
<a name="l00008"></a>00008 copies of the Software, and to permit persons to whom the Software is
<a name="l00009"></a>00009 furnished to do so, subject to the following conditions:
<a name="l00010"></a>00010 
<a name="l00011"></a>00011 The above copyright notice and this permission notice shall be included in
<a name="l00012"></a>00012 all copies or substantial portions of the Software.
<a name="l00013"></a>00013 
<a name="l00014"></a>00014 THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
<a name="l00015"></a>00015 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
<a name="l00016"></a>00016 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
<a name="l00017"></a>00017 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
<a name="l00018"></a>00018 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
<a name="l00019"></a>00019 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
<a name="l00020"></a>00020 THE SOFTWARE.
<a name="l00021"></a>00021 */
<a name="l00022"></a>00022 <span class="preprocessor">#ifndef RANDOM_GEN_H</span>
<a name="l00023"></a>00023 <span class="preprocessor">#define RANDOM_GEN_H</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &lt;ctime&gt;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &lt;algorithm&gt;</span>
<a name="l00026"></a>00026 
<a name="l00027"></a>00027 <span class="keyword">namespace </span>anl
<a name="l00028"></a>00028 {
<a name="l00029"></a>00029 
<a name="l00030"></a><a class="code" href="classanl_1_1CBasePRNG.html">00030</a>     <span class="keyword">class </span><a class="code" href="classanl_1_1CBasePRNG.html">CBasePRNG</a>
<a name="l00031"></a>00031     {
<a name="l00032"></a>00032         <span class="keyword">public</span>:
<a name="l00033"></a><a class="code" href="classanl_1_1CBasePRNG.html#aa5af1d977bcddc28584a1e0133701c30">00033</a>         <a class="code" href="classanl_1_1CBasePRNG.html#aa5af1d977bcddc28584a1e0133701c30">CBasePRNG</a>(){};
<a name="l00034"></a><a class="code" href="classanl_1_1CBasePRNG.html#a05752d435025c6cbb29cb5c5e50d2257">00034</a>         <span class="keyword">virtual</span> <a class="code" href="classanl_1_1CBasePRNG.html#a05752d435025c6cbb29cb5c5e50d2257">~CBasePRNG</a>(){};
<a name="l00035"></a>00035 
<a name="l00036"></a>00036         <span class="keyword">virtual</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <span class="keyword">get</span>()=0;
<a name="l00037"></a>00037         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classanl_1_1CBasePRNG.html#a6e9a81522fe055749739e4d79b5aa27e">setSeed</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> s)=0;
<a name="l00038"></a>00038 
<a name="l00039"></a><a class="code" href="classanl_1_1CBasePRNG.html#a23758173ff6c4d248d9b619896e9a049">00039</a>         <span class="keywordtype">void</span> <a class="code" href="classanl_1_1CBasePRNG.html#a23758173ff6c4d248d9b619896e9a049">setSeedTime</a>()
<a name="l00040"></a>00040         {
<a name="l00041"></a>00041             <a class="code" href="classanl_1_1CBasePRNG.html#a6e9a81522fe055749739e4d79b5aa27e">setSeed</a>(static_cast&lt;unsigned int&gt;(std::time(0)));
<a name="l00042"></a>00042         }
<a name="l00043"></a>00043 
<a name="l00044"></a><a class="code" href="classanl_1_1CBasePRNG.html#a78fb7f29598253f3eb1aaf0a9fc87058">00044</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classanl_1_1CBasePRNG.html#a78fb7f29598253f3eb1aaf0a9fc87058">getTarget</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> t)
<a name="l00045"></a>00045         {
<a name="l00046"></a>00046             <span class="keywordtype">double</span> v=<a class="code" href="classanl_1_1CBasePRNG.html#a82990127f6a4b9cee3b48861f622e4b3">get01</a>();
<a name="l00047"></a>00047             <span class="keywordflow">return</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)(v*(double)t);
<a name="l00048"></a>00048         }
<a name="l00049"></a>00049 
<a name="l00050"></a><a class="code" href="classanl_1_1CBasePRNG.html#a6427bf7c28728bbe15077c34a2736dbd">00050</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classanl_1_1CBasePRNG.html#a6427bf7c28728bbe15077c34a2736dbd">getRange</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> low, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> high)
<a name="l00051"></a>00051         {
<a name="l00052"></a>00052             <span class="keywordflow">if</span>(high &lt; low) <a class="code" href="pugixml_8cpp.html#a64dc0aa45172e5bfdfe70d46b49b1049">std::swap</a>(low, high);
<a name="l00053"></a>00053             <span class="keywordtype">double</span> range = (double)((high - low)+1);
<a name="l00054"></a>00054             <span class="keywordtype">double</span> val = (double)low + <a class="code" href="classanl_1_1CBasePRNG.html#a82990127f6a4b9cee3b48861f622e4b3">get01</a>()*range;
<a name="l00055"></a>00055             <span class="keywordflow">return</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)(val);
<a name="l00056"></a>00056         }
<a name="l00057"></a>00057 
<a name="l00058"></a><a class="code" href="classanl_1_1CBasePRNG.html#a82990127f6a4b9cee3b48861f622e4b3">00058</a>         <span class="keywordtype">double</span> <a class="code" href="classanl_1_1CBasePRNG.html#a82990127f6a4b9cee3b48861f622e4b3">get01</a>()
<a name="l00059"></a>00059         {
<a name="l00060"></a>00060             <span class="keywordflow">return</span> ((<span class="keywordtype">double</span>)<span class="keyword">get</span>() / (<span class="keywordtype">double</span>)(4294967295UL));
<a name="l00061"></a>00061         }
<a name="l00062"></a>00062     };
<a name="l00063"></a>00063 
<a name="l00064"></a><a class="code" href="classanl_1_1LCG.html">00064</a>     <span class="keyword">class </span><a class="code" href="classanl_1_1LCG.html">LCG</a> : <span class="keyword">public</span> <a class="code" href="classanl_1_1CBasePRNG.html">CBasePRNG</a>
<a name="l00065"></a>00065     {
<a name="l00066"></a>00066         <span class="keyword">public</span>:
<a name="l00067"></a><a class="code" href="classanl_1_1LCG.html#a9e2d4885fcd82e6b77752c21867815f3">00067</a>         <a class="code" href="classanl_1_1LCG.html#a9e2d4885fcd82e6b77752c21867815f3">LCG</a>()
<a name="l00068"></a>00068         {
<a name="l00069"></a>00069             <a class="code" href="classanl_1_1LCG.html#a671261ff641cf73b5929b3ab0d19fe37">setSeed</a>(10000);
<a name="l00070"></a>00070         }
<a name="l00071"></a>00071 
<a name="l00072"></a><a class="code" href="classanl_1_1LCG.html#a671261ff641cf73b5929b3ab0d19fe37">00072</a>         <span class="keywordtype">void</span> <a class="code" href="classanl_1_1LCG.html#a671261ff641cf73b5929b3ab0d19fe37">setSeed</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> s)
<a name="l00073"></a>00073         {
<a name="l00074"></a>00074             <a class="code" href="classanl_1_1LCG.html#a580ef65a1521702a11bf195ef9474a6e">m_state</a>=s;
<a name="l00075"></a>00075         }
<a name="l00076"></a>00076 
<a name="l00077"></a><a class="code" href="classanl_1_1LCG.html#a65cb6d076966f0a22afb66ef633166bf">00077</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <span class="keyword">get</span>()
<a name="l00078"></a>00078         {
<a name="l00079"></a>00079             <span class="keywordflow">return</span> (<a class="code" href="classanl_1_1LCG.html#a580ef65a1521702a11bf195ef9474a6e">m_state</a>=69069*<a class="code" href="classanl_1_1LCG.html#a580ef65a1521702a11bf195ef9474a6e">m_state</a>+362437);
<a name="l00080"></a>00080         }
<a name="l00081"></a>00081 
<a name="l00082"></a>00082         <span class="keyword">protected</span>:
<a name="l00083"></a><a class="code" href="classanl_1_1LCG.html#a580ef65a1521702a11bf195ef9474a6e">00083</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classanl_1_1LCG.html#a580ef65a1521702a11bf195ef9474a6e">m_state</a>;
<a name="l00084"></a>00084     };
<a name="l00085"></a>00085 
<a name="l00086"></a>00086     <span class="comment">// Setup a static, global LCG for seeding other generators.</span>
<a name="l00087"></a><a class="code" href="namespaceanl.html#a58089fb2d6abef1dba564f4c9ccbf88d">00087</a>     <span class="keyword">static</span> <a class="code" href="classanl_1_1LCG.html">LCG</a> <a class="code" href="namespaceanl.html#a58089fb2d6abef1dba564f4c9ccbf88d">lcg</a>;
<a name="l00088"></a>00088 
<a name="l00089"></a>00089 
<a name="l00090"></a>00090 
<a name="l00091"></a>00091     <span class="comment">// The following generators are based on generators created by George Marsaglia</span>
<a name="l00092"></a>00092     <span class="comment">// They use the static lcg created above for seeding, to initialize various</span>
<a name="l00093"></a>00093     <span class="comment">// state and tables. Seeding them is a bit more involved than an LCG.</span>
<a name="l00094"></a><a class="code" href="classanl_1_1Xorshift.html">00094</a>     <span class="keyword">class </span><a class="code" href="classanl_1_1Xorshift.html">Xorshift</a> : <span class="keyword">public</span> <a class="code" href="classanl_1_1CBasePRNG.html">CBasePRNG</a>
<a name="l00095"></a>00095     {
<a name="l00096"></a>00096         <span class="keyword">public</span>:
<a name="l00097"></a><a class="code" href="classanl_1_1Xorshift.html#ad975d9a90cfc1c46132dfc4262a148a6">00097</a>         <a class="code" href="classanl_1_1Xorshift.html#ad975d9a90cfc1c46132dfc4262a148a6">Xorshift</a>()
<a name="l00098"></a>00098         {
<a name="l00099"></a>00099             <a class="code" href="classanl_1_1Xorshift.html#a0fd07695b4ac9d214db30ce5f896f958">setSeed</a>(10000);
<a name="l00100"></a>00100         }
<a name="l00101"></a>00101 
<a name="l00102"></a><a class="code" href="classanl_1_1Xorshift.html#a0fd07695b4ac9d214db30ce5f896f958">00102</a>         <span class="keywordtype">void</span> <a class="code" href="classanl_1_1Xorshift.html#a0fd07695b4ac9d214db30ce5f896f958">setSeed</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> s)
<a name="l00103"></a>00103         {
<a name="l00104"></a>00104             <a class="code" href="namespaceanl.html#a58089fb2d6abef1dba564f4c9ccbf88d">lcg</a>.<a class="code" href="classanl_1_1LCG.html#a671261ff641cf73b5929b3ab0d19fe37">setSeed</a>(s);
<a name="l00105"></a>00105             <a class="code" href="classanl_1_1Xorshift.html#ad6be1c89d19dd0567d0ca37ae101c656">m_x</a>=<a class="code" href="namespaceanl.html#a58089fb2d6abef1dba564f4c9ccbf88d">lcg</a>.<a class="code" href="classanl_1_1LCG.html#a65cb6d076966f0a22afb66ef633166bf">get</a>();
<a name="l00106"></a>00106             <a class="code" href="classanl_1_1Xorshift.html#a1bf9c4d775f36023dbf81508f86f8d79">m_y</a>=<a class="code" href="namespaceanl.html#a58089fb2d6abef1dba564f4c9ccbf88d">lcg</a>.<a class="code" href="classanl_1_1LCG.html#a65cb6d076966f0a22afb66ef633166bf">get</a>();
<a name="l00107"></a>00107             <a class="code" href="classanl_1_1Xorshift.html#ad282813f3e294213111efd317f994f0e">m_z</a>=<a class="code" href="namespaceanl.html#a58089fb2d6abef1dba564f4c9ccbf88d">lcg</a>.<a class="code" href="classanl_1_1LCG.html#a65cb6d076966f0a22afb66ef633166bf">get</a>();
<a name="l00108"></a>00108             <a class="code" href="classanl_1_1Xorshift.html#af5ba3ea5124f4f83bc0f7b2bb6e4abbf">m_w</a>=<a class="code" href="namespaceanl.html#a58089fb2d6abef1dba564f4c9ccbf88d">lcg</a>.<a class="code" href="classanl_1_1LCG.html#a65cb6d076966f0a22afb66ef633166bf">get</a>();
<a name="l00109"></a>00109             <a class="code" href="classanl_1_1Xorshift.html#ab37edafc9c8345410e491bf36e27b0dd">m_v</a>=<a class="code" href="namespaceanl.html#a58089fb2d6abef1dba564f4c9ccbf88d">lcg</a>.<a class="code" href="classanl_1_1LCG.html#a65cb6d076966f0a22afb66ef633166bf">get</a>();
<a name="l00110"></a>00110         }
<a name="l00111"></a>00111 
<a name="l00112"></a><a class="code" href="classanl_1_1Xorshift.html#a4077fd48d3a6dd1a57a6aa3089441dd7">00112</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <span class="keyword">get</span>()
<a name="l00113"></a>00113         {
<a name="l00114"></a>00114             <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> t;
<a name="l00115"></a>00115             t=(<a class="code" href="classanl_1_1Xorshift.html#ad6be1c89d19dd0567d0ca37ae101c656">m_x</a>^(<a class="code" href="classanl_1_1Xorshift.html#ad6be1c89d19dd0567d0ca37ae101c656">m_x</a>&gt;&gt;7)); <a class="code" href="classanl_1_1Xorshift.html#ad6be1c89d19dd0567d0ca37ae101c656">m_x</a>=<a class="code" href="classanl_1_1Xorshift.html#a1bf9c4d775f36023dbf81508f86f8d79">m_y</a>; <a class="code" href="classanl_1_1Xorshift.html#a1bf9c4d775f36023dbf81508f86f8d79">m_y</a>=<a class="code" href="classanl_1_1Xorshift.html#ad282813f3e294213111efd317f994f0e">m_z</a>; <a class="code" href="classanl_1_1Xorshift.html#ad282813f3e294213111efd317f994f0e">m_z</a>=<a class="code" href="classanl_1_1Xorshift.html#af5ba3ea5124f4f83bc0f7b2bb6e4abbf">m_w</a>; <a class="code" href="classanl_1_1Xorshift.html#af5ba3ea5124f4f83bc0f7b2bb6e4abbf">m_w</a>=<a class="code" href="classanl_1_1Xorshift.html#ab37edafc9c8345410e491bf36e27b0dd">m_v</a>;
<a name="l00116"></a>00116             <a class="code" href="classanl_1_1Xorshift.html#ab37edafc9c8345410e491bf36e27b0dd">m_v</a>=(<a class="code" href="classanl_1_1Xorshift.html#ab37edafc9c8345410e491bf36e27b0dd">m_v</a>^(<a class="code" href="classanl_1_1Xorshift.html#ab37edafc9c8345410e491bf36e27b0dd">m_v</a>&lt;&lt;6))^(t^(t&lt;&lt;13));
<a name="l00117"></a>00117             <span class="keywordflow">return</span> (<a class="code" href="classanl_1_1Xorshift.html#a1bf9c4d775f36023dbf81508f86f8d79">m_y</a>+<a class="code" href="classanl_1_1Xorshift.html#a1bf9c4d775f36023dbf81508f86f8d79">m_y</a>+1)*<a class="code" href="classanl_1_1Xorshift.html#ab37edafc9c8345410e491bf36e27b0dd">m_v</a>;
<a name="l00118"></a>00118         }
<a name="l00119"></a>00119 
<a name="l00120"></a>00120         <span class="keyword">protected</span>:
<a name="l00121"></a><a class="code" href="classanl_1_1Xorshift.html#ad282813f3e294213111efd317f994f0e">00121</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classanl_1_1Xorshift.html#ad6be1c89d19dd0567d0ca37ae101c656">m_x</a>, <a class="code" href="classanl_1_1Xorshift.html#a1bf9c4d775f36023dbf81508f86f8d79">m_y</a>, <a class="code" href="classanl_1_1Xorshift.html#ad282813f3e294213111efd317f994f0e">m_z</a>, <a class="code" href="classanl_1_1Xorshift.html#af5ba3ea5124f4f83bc0f7b2bb6e4abbf">m_w</a>, <a class="code" href="classanl_1_1Xorshift.html#ab37edafc9c8345410e491bf36e27b0dd">m_v</a>;
<a name="l00122"></a>00122     };
<a name="l00123"></a>00123 
<a name="l00124"></a><a class="code" href="classanl_1_1MWC256.html">00124</a>     <span class="keyword">class </span><a class="code" href="classanl_1_1MWC256.html">MWC256</a> : <span class="keyword">public</span> <a class="code" href="classanl_1_1CBasePRNG.html">CBasePRNG</a>
<a name="l00125"></a>00125     {
<a name="l00126"></a>00126         <span class="keyword">public</span>:
<a name="l00127"></a><a class="code" href="classanl_1_1MWC256.html#aa165451a17801c6aad232c9c52af46e0">00127</a>         <a class="code" href="classanl_1_1MWC256.html#aa165451a17801c6aad232c9c52af46e0">MWC256</a>()
<a name="l00128"></a>00128         {
<a name="l00129"></a>00129             <a class="code" href="classanl_1_1MWC256.html#a21991854d1538735f7f47746c5277697">setSeed</a>(10000);
<a name="l00130"></a>00130         }
<a name="l00131"></a>00131 
<a name="l00132"></a><a class="code" href="classanl_1_1MWC256.html#a21991854d1538735f7f47746c5277697">00132</a>         <span class="keywordtype">void</span> <a class="code" href="classanl_1_1MWC256.html#a21991854d1538735f7f47746c5277697">setSeed</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> s)
<a name="l00133"></a>00133         {
<a name="l00134"></a>00134             <a class="code" href="namespaceanl.html#a58089fb2d6abef1dba564f4c9ccbf88d">lcg</a>.<a class="code" href="classanl_1_1LCG.html#a671261ff641cf73b5929b3ab0d19fe37">setSeed</a>(s);
<a name="l00135"></a>00135             <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;256; ++i)
<a name="l00136"></a>00136             {
<a name="l00137"></a>00137                 <a class="code" href="classanl_1_1MWC256.html#ad825932cee7866151d8237d13fcf6f5c">m_Q</a>[i]=<a class="code" href="namespaceanl.html#a58089fb2d6abef1dba564f4c9ccbf88d">lcg</a>.<a class="code" href="classanl_1_1LCG.html#a65cb6d076966f0a22afb66ef633166bf">get</a>();
<a name="l00138"></a>00138             }
<a name="l00139"></a>00139             <a class="code" href="classanl_1_1MWC256.html#a9072ebc5be10951ef6179cdfbbccd22a">c</a>=<a class="code" href="namespaceanl.html#a58089fb2d6abef1dba564f4c9ccbf88d">lcg</a>.<a class="code" href="classanl_1_1CBasePRNG.html#a78fb7f29598253f3eb1aaf0a9fc87058">getTarget</a>(809430660);
<a name="l00140"></a>00140         }
<a name="l00141"></a>00141 
<a name="l00142"></a><a class="code" href="classanl_1_1MWC256.html#a7857a5fc425c176743a88062aeddbedf">00142</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <span class="keyword">get</span>()
<a name="l00143"></a>00143         {
<a name="l00144"></a>00144             <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> t,a=809430660LL;
<a name="l00145"></a>00145             <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> i=255;
<a name="l00146"></a>00146             t=a*<a class="code" href="classanl_1_1MWC256.html#ad825932cee7866151d8237d13fcf6f5c">m_Q</a>[++i]+<a class="code" href="classanl_1_1MWC256.html#a9072ebc5be10951ef6179cdfbbccd22a">c</a>; c=(t&gt;&gt;32);
<a name="l00147"></a>00147             <span class="keywordflow">return</span>(<a class="code" href="classanl_1_1MWC256.html#ad825932cee7866151d8237d13fcf6f5c">m_Q</a>[i]=(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)t);
<a name="l00148"></a>00148         }
<a name="l00149"></a>00149 
<a name="l00150"></a>00150         <span class="keyword">protected</span>:
<a name="l00151"></a><a class="code" href="classanl_1_1MWC256.html#ad825932cee7866151d8237d13fcf6f5c">00151</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classanl_1_1MWC256.html#ad825932cee7866151d8237d13fcf6f5c">m_Q</a>[256], <a class="code" href="classanl_1_1MWC256.html#a9072ebc5be10951ef6179cdfbbccd22a">c</a>;
<a name="l00152"></a>00152     };
<a name="l00153"></a>00153 
<a name="l00154"></a><a class="code" href="classanl_1_1CMWC4096.html">00154</a>     <span class="keyword">class </span><a class="code" href="classanl_1_1CMWC4096.html">CMWC4096</a> : <span class="keyword">public</span> <a class="code" href="classanl_1_1CBasePRNG.html">CBasePRNG</a>
<a name="l00155"></a>00155     {
<a name="l00156"></a>00156         <span class="keyword">public</span>:
<a name="l00157"></a><a class="code" href="classanl_1_1CMWC4096.html#aee41ffb6d16a82cb385f965d71aa0f41">00157</a>         <a class="code" href="classanl_1_1CMWC4096.html#aee41ffb6d16a82cb385f965d71aa0f41">CMWC4096</a>()
<a name="l00158"></a>00158         {
<a name="l00159"></a>00159             <a class="code" href="classanl_1_1CMWC4096.html#a6bac258bda47aff87e640cae6145c970">setSeed</a>(10000);
<a name="l00160"></a>00160         }
<a name="l00161"></a>00161 
<a name="l00162"></a><a class="code" href="classanl_1_1CMWC4096.html#a6bac258bda47aff87e640cae6145c970">00162</a>         <span class="keywordtype">void</span> <a class="code" href="classanl_1_1CMWC4096.html#a6bac258bda47aff87e640cae6145c970">setSeed</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> s)
<a name="l00163"></a>00163         {
<a name="l00164"></a>00164             <a class="code" href="namespaceanl.html#a58089fb2d6abef1dba564f4c9ccbf88d">lcg</a>.<a class="code" href="classanl_1_1LCG.html#a671261ff641cf73b5929b3ab0d19fe37">setSeed</a>(s);   <span class="comment">// Seed the global random source</span>
<a name="l00165"></a>00165 
<a name="l00166"></a>00166             <span class="comment">// Seed the table</span>
<a name="l00167"></a>00167             <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;4096; ++i)
<a name="l00168"></a>00168             {
<a name="l00169"></a>00169                 <a class="code" href="classanl_1_1CMWC4096.html#a594e1e21a870c7481a6f17ed61a72f24">m_Q</a>[i]=<a class="code" href="namespaceanl.html#a58089fb2d6abef1dba564f4c9ccbf88d">lcg</a>.<a class="code" href="classanl_1_1LCG.html#a65cb6d076966f0a22afb66ef633166bf">get</a>();
<a name="l00170"></a>00170             }
<a name="l00171"></a>00171 
<a name="l00172"></a>00172             <a class="code" href="classanl_1_1CMWC4096.html#a2531fc0da503077dc09feed8cb61c542">c</a>=<a class="code" href="namespaceanl.html#a58089fb2d6abef1dba564f4c9ccbf88d">lcg</a>.<a class="code" href="classanl_1_1CBasePRNG.html#a78fb7f29598253f3eb1aaf0a9fc87058">getTarget</a>(18781);
<a name="l00173"></a>00173         }
<a name="l00174"></a>00174 
<a name="l00175"></a><a class="code" href="classanl_1_1CMWC4096.html#a28729ce8c6c8dab8cf551c7ddc2b751b">00175</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <span class="keyword">get</span>()
<a name="l00176"></a>00176         {
<a name="l00177"></a>00177             <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> t, a=18782LL, b=4294967295UL;
<a name="l00178"></a>00178             <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=2095;
<a name="l00179"></a>00179             <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> r=(<span class="keywordtype">unsigned</span> int)(b-1);
<a name="l00180"></a>00180 
<a name="l00181"></a>00181             i=(i+1)&amp;4095;
<a name="l00182"></a>00182             t=a*<a class="code" href="classanl_1_1CMWC4096.html#a594e1e21a870c7481a6f17ed61a72f24">m_Q</a>[i]+<a class="code" href="classanl_1_1CMWC4096.html#a2531fc0da503077dc09feed8cb61c542">c</a>;
<a name="l00183"></a>00183             c=(t&gt;&gt;32); t=(t&amp;b)+c;
<a name="l00184"></a>00184             <span class="keywordflow">if</span>(t&gt;r) { c++; t=t-b;}
<a name="l00185"></a>00185             <span class="keywordflow">return</span> (<a class="code" href="classanl_1_1CMWC4096.html#a594e1e21a870c7481a6f17ed61a72f24">m_Q</a>[i]=(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)(r-t));
<a name="l00186"></a>00186         }
<a name="l00187"></a>00187 
<a name="l00188"></a>00188         <span class="keyword">protected</span>:
<a name="l00189"></a><a class="code" href="classanl_1_1CMWC4096.html#a594e1e21a870c7481a6f17ed61a72f24">00189</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classanl_1_1CMWC4096.html#a594e1e21a870c7481a6f17ed61a72f24">m_Q</a>[4096], <a class="code" href="classanl_1_1CMWC4096.html#a2531fc0da503077dc09feed8cb61c542">c</a>;
<a name="l00190"></a>00190     };
<a name="l00191"></a>00191 
<a name="l00192"></a><a class="code" href="classanl_1_1KISS.html">00192</a>     <span class="keyword">class </span><a class="code" href="classanl_1_1KISS.html">KISS</a> : <span class="keyword">public</span> <a class="code" href="classanl_1_1CBasePRNG.html">CBasePRNG</a>
<a name="l00193"></a>00193     {
<a name="l00194"></a>00194         <span class="keyword">public</span>:
<a name="l00195"></a><a class="code" href="classanl_1_1KISS.html#af6f3404f64fc19491db26df5cbddba1a">00195</a>         <a class="code" href="classanl_1_1KISS.html#af6f3404f64fc19491db26df5cbddba1a">KISS</a>()
<a name="l00196"></a>00196         {
<a name="l00197"></a>00197             <a class="code" href="classanl_1_1KISS.html#a975aa76ee0371fc8da9afae199192e04">setSeed</a>(10000);
<a name="l00198"></a>00198         }
<a name="l00199"></a>00199 
<a name="l00200"></a><a class="code" href="classanl_1_1KISS.html#a975aa76ee0371fc8da9afae199192e04">00200</a>         <span class="keywordtype">void</span> <a class="code" href="classanl_1_1KISS.html#a975aa76ee0371fc8da9afae199192e04">setSeed</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> s)
<a name="l00201"></a>00201         {
<a name="l00202"></a>00202             <a class="code" href="namespaceanl.html#a58089fb2d6abef1dba564f4c9ccbf88d">lcg</a>.<a class="code" href="classanl_1_1LCG.html#a671261ff641cf73b5929b3ab0d19fe37">setSeed</a>(s);
<a name="l00203"></a>00203             <a class="code" href="classanl_1_1KISS.html#a8d6d53a11fa1eea98fa84780cf67e3a8">z</a>=<a class="code" href="namespaceanl.html#a58089fb2d6abef1dba564f4c9ccbf88d">lcg</a>.<a class="code" href="classanl_1_1LCG.html#a65cb6d076966f0a22afb66ef633166bf">get</a>();
<a name="l00204"></a>00204             <a class="code" href="classanl_1_1KISS.html#affa7ff0848714aaaa358f045e915e467">w</a>=<a class="code" href="namespaceanl.html#a58089fb2d6abef1dba564f4c9ccbf88d">lcg</a>.<a class="code" href="classanl_1_1LCG.html#a65cb6d076966f0a22afb66ef633166bf">get</a>();
<a name="l00205"></a>00205             <a class="code" href="classanl_1_1KISS.html#a24b0a5cd1dbc5da7d1f11ff1858d3fd3">jsr</a>=<a class="code" href="namespaceanl.html#a58089fb2d6abef1dba564f4c9ccbf88d">lcg</a>.<a class="code" href="classanl_1_1LCG.html#a65cb6d076966f0a22afb66ef633166bf">get</a>();
<a name="l00206"></a>00206             <a class="code" href="classanl_1_1KISS.html#a3b6d6d43e69568d6c94f2c60ded0398a">jcong</a>=<a class="code" href="namespaceanl.html#a58089fb2d6abef1dba564f4c9ccbf88d">lcg</a>.<a class="code" href="classanl_1_1LCG.html#a65cb6d076966f0a22afb66ef633166bf">get</a>();
<a name="l00207"></a>00207         }
<a name="l00208"></a>00208 
<a name="l00209"></a><a class="code" href="classanl_1_1KISS.html#a1025043c844dd93d33bedf412fef9cc3">00209</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <span class="keyword">get</span>()
<a name="l00210"></a>00210         {
<a name="l00211"></a>00211             <a class="code" href="classanl_1_1KISS.html#a8d6d53a11fa1eea98fa84780cf67e3a8">z</a>=36969*(<a class="code" href="classanl_1_1KISS.html#a8d6d53a11fa1eea98fa84780cf67e3a8">z</a>&amp;65535)+(<a class="code" href="classanl_1_1KISS.html#a8d6d53a11fa1eea98fa84780cf67e3a8">z</a>&gt;&gt;16);
<a name="l00212"></a>00212             <a class="code" href="classanl_1_1KISS.html#affa7ff0848714aaaa358f045e915e467">w</a>=18000*(<a class="code" href="classanl_1_1KISS.html#affa7ff0848714aaaa358f045e915e467">w</a>&amp;65535)+(<a class="code" href="classanl_1_1KISS.html#affa7ff0848714aaaa358f045e915e467">w</a>&gt;&gt;16);
<a name="l00213"></a>00213             <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> mwc = (<a class="code" href="classanl_1_1KISS.html#a8d6d53a11fa1eea98fa84780cf67e3a8">z</a>&lt;&lt;16)+<a class="code" href="classanl_1_1KISS.html#affa7ff0848714aaaa358f045e915e467">w</a>;
<a name="l00214"></a>00214 
<a name="l00215"></a>00215             <a class="code" href="classanl_1_1KISS.html#a3b6d6d43e69568d6c94f2c60ded0398a">jcong</a>=69069*<a class="code" href="classanl_1_1KISS.html#a3b6d6d43e69568d6c94f2c60ded0398a">jcong</a>+1234567;
<a name="l00216"></a>00216 
<a name="l00217"></a>00217             <a class="code" href="classanl_1_1KISS.html#a24b0a5cd1dbc5da7d1f11ff1858d3fd3">jsr</a>^=(jsr&lt;&lt;17); jsr^=(jsr&gt;&gt;13); <a class="code" href="classanl_1_1KISS.html#a24b0a5cd1dbc5da7d1f11ff1858d3fd3">jsr</a>^=(<a class="code" href="classanl_1_1KISS.html#a24b0a5cd1dbc5da7d1f11ff1858d3fd3">jsr</a>&lt;&lt;5);
<a name="l00218"></a>00218 
<a name="l00219"></a>00219             <span class="keywordflow">return</span> ((mwc^<a class="code" href="classanl_1_1KISS.html#a3b6d6d43e69568d6c94f2c60ded0398a">jcong</a>) + <a class="code" href="classanl_1_1KISS.html#a24b0a5cd1dbc5da7d1f11ff1858d3fd3">jsr</a>);
<a name="l00220"></a>00220         }
<a name="l00221"></a>00221 
<a name="l00222"></a>00222         <span class="keyword">public</span>:
<a name="l00223"></a><a class="code" href="classanl_1_1KISS.html#a8d6d53a11fa1eea98fa84780cf67e3a8">00223</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classanl_1_1KISS.html#a8d6d53a11fa1eea98fa84780cf67e3a8">z</a>,<a class="code" href="classanl_1_1KISS.html#affa7ff0848714aaaa358f045e915e467">w</a>,<a class="code" href="classanl_1_1KISS.html#a24b0a5cd1dbc5da7d1f11ff1858d3fd3">jsr</a>,<a class="code" href="classanl_1_1KISS.html#a3b6d6d43e69568d6c94f2c60ded0398a">jcong</a>;
<a name="l00224"></a>00224     };
<a name="l00225"></a>00225 };
<a name="l00226"></a>00226 
<a name="l00227"></a>00227 <span class="preprocessor">#endif</span>
</pre></div></div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on Thu Mar 14 17:57:49 2013 for accidentalnoise by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1-20091027 </small></address>
</body>
</html>
